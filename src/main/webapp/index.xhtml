<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html   xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:buis="http://buis.org/core">

	<f:view locale="#{localeBean.language}" encoding="UTF-8" contentType="text/html">

		<!-- This bundle def needs to be inside the view to take advantage of the locale being set in the view -->
		<!-- pages.index.index -->
		<buis:loadBundle basename="pages.index.index" var="pgmsgs" />

		<h:head>			
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
			<meta http-equiv="Content-Language" content="#{localeBean.language}" />

			<meta http-equiv="X-UA-Compatible" content="IE=edge" />

			<title>Bearded-octo-archer</title>

			<h:outputStylesheet library="css" name="main.css" />

			<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>

			<script type="text/javascript">
				if (window.jQuery === undefined || window.jQuery === null) {
					document.write('&lt;script src=&quot;#{resource["js/libs/jquery/1.7.2/jquery.min.js"]}&quot;&gt;&lt;\/script&gt;');
	 		 	}
			</script>


			<link href="http://cdn.aloha-editor.org/current/css/aloha.css" type="text/css" rel="stylesheet" />

			<h:outputScript library="js" name="aloha-config.js" />
			<script src="#{resource['js/libs/aloha/0.10.0/aloha.js']}" data-aloha-plugins="common/format"></script>
		</h:head>

		<h:body>

			<h:outputScript library="js" name="script.js"/>

			<p>Here we are testing out using aloha with a jsf implementation that allows the editing and refresh of data from property files</p>

			<br /><br />

			<h:panelGroup>
				
				<div id="#{propertyBean.convertPropertyToId('sample.txt')}-id" class="editable">
					<h:outputText value="#{pgmsgs['sample.txt']}" />
				</div>

				<h:panelGroup >

					<h:form styleClass="form-#{propertyBean.convertPropertyToId('sample.txt')}">
						<h:inputHidden value="#{propertyBean.property}"/>
						<h:inputHidden value="#{propertyBean.content}"/>
						<h:inputHidden value="#{propertyBean.bundle}"/>
					</h:form>

				</h:panelGroup>
			</h:panelGroup>

		</h:body>
	</f:view>
</html>